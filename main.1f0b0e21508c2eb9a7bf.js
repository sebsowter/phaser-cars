(()=>{"use strict";var t,e={398:function(t,e){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r,n,o){var a=t.call(this,e,r,n)||this;a.chassis=new Phaser.GameObjects.Sprite(e,0,0,"cars",o),a.wheels=[];for(var i=0;i<2;i++)for(var s=0;s<2;s++){var u=5-10*i,c=10*s-5;a.wheels.push(new Phaser.GameObjects.Rectangle(e,u,c,4,2,0))}return a.add(a.wheels),a.add(a.chassis),a.setSize(16,8),a.setDepth(2),a.scene.add.existing(a),a.sprite=a.scene.matter.add.gameObject(a),a}return n(e,t),e}(Phaser.GameObjects.Container);e.default=o},41:function(t,e,r){var n,o=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=this&&this.__assign||function(){return a=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},a.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,r,n){var o=t.call(this,e,r,n,0)||this,i={angularGrip:.05,grip:.02,powerForward:.05,powerReverse:.025,turnMax:40*Phaser.Math.DEG_TO_RAD,turnRate:20*Phaser.Math.DEG_TO_RAD};return o.setData(a(a({},i),{drag:1-i.grip,angularDrag:1-i.angularGrip,wheelAngle:0})),o}return o(e,t),e.prototype.preUpdate=function(){var t=this.scene.inputs,e=t.left,r=t.right,n=t.accelerator,o=t.breaks,a=this.getData(["wheelAngle","powerForward","powerReverse","turnMax","turnRate","grip","drag","angularGrip","angularDrag"]),i=a[0],s=a[1],u=a[2],c=a[3],p=a[4],l=a[5],f=a[6],h=a[7],d=a[8],y=o?-this.body.speed:this.body.speed,b=n?s:o?-u:0,g=new Phaser.Math.Vector2((this.body.position.x-this.body.positionPrev.x)*f+Math.cos(this.rotation)*(y*l+b),(this.body.position.y-this.body.positionPrev.y)*f+Math.sin(this.rotation)*(y*l+b));this.sprite.setVelocity(g.x,g.y);var _=i,v=this.body.angularVelocity*d;if(e||r){var O=(e?-1:1)*p;v+=.1*Math.sign(Math.floor(y/.1))*(_=Math.min(Math.max(_+O,-c),c))*h}else 0!==_&&(_=Math.sign(_)*Math.min(Math.abs(_)+p,0));this.sprite.setAngularVelocity(v);for(var w=0;w<2;w++)this.wheels[w].setRotation(_);this.setData("wheelAngle",_),Math.abs(v)>.025&&Math.abs(y)>1&&this.scene.skidMarks.draw(this.x,this.y,this.rotation)},e}(r(398).default);e.default=i},762:function(t,e,r){var n,o=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e,r,n){return t.call(this,e,r,n,1)||this}return o(e,t),e}(r(398).default);e.default=a},787:function(t,e){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,r,n){return t.call(this,e,r,n,3,2,3355443)||this}return n(e,t),e}(Phaser.GameObjects.Rectangle);e.default=o},860:function(t,e,r){var n,o=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var a=r(745),i=function(t){function e(e){return t.call(this,e,null,{classType:a.SkidMark})||this}return o(e,t),e.prototype.draw=function(t,e,r){for(var n=-1;n<2;n+=2)this.create(t+Math.sin(r)*(4*n)-6*Math.cos(r),e-Math.cos(r)*(4*n)-6*Math.sin(r)).setRotation(r)},e}(Phaser.GameObjects.Group);e.default=i},745:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SkidMarkGroup=e.SkidMark=e.CarPlayer=e.CarStatic=e.CarContainer=void 0;var n=r(398);Object.defineProperty(e,"CarContainer",{enumerable:!0,get:function(){return n.default}});var o=r(762);Object.defineProperty(e,"CarStatic",{enumerable:!0,get:function(){return o.default}});var a=r(41);Object.defineProperty(e,"CarPlayer",{enumerable:!0,get:function(){return a.default}});var i=r(787);Object.defineProperty(e,"SkidMark",{enumerable:!0,get:function(){return i.default}});var s=r(860);Object.defineProperty(e,"SkidMarkGroup",{enumerable:!0,get:function(){return s.default}})},206:(t,e,r)=>{r(260);var n=r(363),o={type:Phaser.AUTO,width:256,height:224,zoom:3,input:{keyboard:!0,gamepad:!0},render:{pixelArt:!0,antialias:!1,antialiasGL:!1},physics:{default:"matter",matter:{debug:!1,gravity:{y:0}}},scene:[n.LoaderScene,n.GameScene]};window.addEventListener("load",(function(){new Phaser.Game(o)}))},360:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.scene=t,this.keys=this.scene.input.keyboard.addKeys("W,A,S,D,up,left,down,right")}return Object.defineProperty(t.prototype,"accelerator",{get:function(){return this.keys.up.isDown||this.keys.W.isDown||this.padA},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breaks",{get:function(){return this.keys.down.isDown||this.keys.S.isDown||this.padB},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this.keys.left.isDown||this.keys.A.isDown||-1===this.padAxisH},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.keys.right.isDown||this.keys.D.isDown||1===this.padAxisH},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padA",{get:function(){return this.padButtons.some((function(t){return t.index%2==0&&1===t.value}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padB",{get:function(){return this.padButtons.some((function(t){return t.index%2==1&&1===t.value}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padAxisH",{get:function(){return this.pad?this.pad.axes[0].getValue():0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padAxisV",{get:function(){return this.pad?this.pad.axes[1].getValue():0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padButtons",{get:function(){return this.pad?this.pad.buttons:[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pad",{get:function(){var t=this.scene.input.gamepad;return t&&t.gamepads&&t.gamepads.length?t.gamepads[0]:null},enumerable:!1,configurable:!0}),t}();e.default=r},751:function(t,e,r){var n,o=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var a=r(360),i=r(745),s=function(t){function e(){return t.call(this,{key:"game",active:!1,visible:!1})||this}return o(e,t),e.prototype.init=function(){this.inputs=new a.default(this),this.skidMarks=new i.SkidMarkGroup(this).setDepth(1)},e.prototype.create=function(){for(var t=this.add.image(0,0,"bg").setOrigin(0,0),e=t.width,r=t.height,n=new i.CarPlayer(this,e/2,r/2),o=this.add.group({classType:i.CarStatic}),a=0;a<15;a++)Math.random()<1/4&&o.create(60,80+16*a).setAngle(0);for(a=0;a<15;a++)Math.random()<1/4&&o.create(452,80+16*a).setAngle(180);for(a=0;a<23;a++)Math.random()<1/4&&o.create(80+16*a,324).setAngle(-90);for(a=0;a<23;a++)Math.random()<1/4&&o.create(80+16*a,60).setAngle(90);for(a=0;a<17;a++)Math.random()<1/4&&o.create(128+16*a,132).setAngle(-90);for(a=0;a<17;a++)Math.random()<1/4&&o.create(128+16*a,156).setAngle(90);for(a=0;a<17;a++)Math.random()<1/4&&o.create(128+16*a,228).setAngle(-90);for(a=0;a<17;a++)Math.random()<1/4&&o.create(128+16*a,252).setAngle(90);this.cameras.main.setBounds(0,0,e,r),this.cameras.main.startFollow(n,!0),this.matter.world.setBounds(32,32,e-64,r-64)},e}(Phaser.Scene);e.default=s},859:function(t,e){var r,n=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.preload=function(){this.load.image("bg","./assets/bg.png"),this.load.spritesheet("cars","./assets/cars.png",{frameWidth:16,frameHeight:16})},e.prototype.create=function(){this.scene.start("game")},e}(Phaser.Scene);e.default=o},363:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GameScene=e.LoaderScene=void 0;var n=r(859);Object.defineProperty(e,"LoaderScene",{enumerable:!0,get:function(){return n.default}});var o=r(751);Object.defineProperty(e,"GameScene",{enumerable:!0,get:function(){return o.default}})}},r={};function n(t){var o=r[t];if(void 0!==o)return o.exports;var a=r[t]={exports:{}};return e[t].call(a.exports,a,a.exports,n),a.exports}n.m=e,t=[],n.O=(e,r,o,a)=>{if(!r){var i=1/0;for(p=0;p<t.length;p++){for(var[r,o,a]=t[p],s=!0,u=0;u<r.length;u++)(!1&a||i>=a)&&Object.keys(n.O).every((t=>n.O[t](r[u])))?r.splice(u--,1):(s=!1,a<i&&(i=a));if(s){t.splice(p--,1);var c=o();void 0!==c&&(e=c)}}return e}a=a||0;for(var p=t.length;p>0&&t[p-1][2]>a;p--)t[p]=t[p-1];t[p]=[r,o,a]},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={179:0};n.O.j=e=>0===t[e];var e=(e,r)=>{var o,a,[i,s,u]=r,c=0;if(i.some((e=>0!==t[e]))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(u)var p=u(n)}for(e&&e(r);c<i.length;c++)a=i[c],n.o(t,a)&&t[a]&&t[a][0](),t[i[c]]=0;return n.O(p)},r=self.webpackChunkphaser_cars=self.webpackChunkphaser_cars||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})();var o=n.O(void 0,[426],(()=>n(206)));o=n.O(o)})();