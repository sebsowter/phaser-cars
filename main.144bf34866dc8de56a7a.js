(()=>{"use strict";var e,t={398:function(e,t){var r,n=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,r,n,o){void 0===o&&(o=0);var a=e.call(this,t,r,n)||this;a.chassis=new Phaser.GameObjects.Sprite(t,0,0,"cars",o),a.wheels=[];for(var i=0;i<2;i++)for(var s=0;s<2;s++){var u=new Phaser.GameObjects.Rectangle(t,5-10*i,10*s-5,4,2,0);a.wheels.push(u)}return a.add(a.wheels),a.add(a.chassis),a.setSize(16,8),a.setDepth(2),a.scene.add.existing(a),a.sprite=a.scene.matter.add.gameObject(a),a}return n(t,e),t}(Phaser.GameObjects.Container);t.default=o},41:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,r,n){var o=e.call(this,t,r,n)||this,i={angularGrip:.05,grip:.02,powerForward:.03,powerReverse:.015,turnMax:40*Phaser.Math.DEG_TO_RAD,turnRate:10*Phaser.Math.DEG_TO_RAD};return o.setData(a(a({},i),{drag:1-i.grip,angularDrag:1-i.angularGrip,wheelAngle:0})),o}return o(t,e),t.prototype.preUpdate=function(){var e=this.scene.inputs,t=e.left,r=e.right,n=e.accelerator,o=e.breaks,a=this.body,i=a.speed,s=a.position,u=a.positionPrev,c=a.angularVelocity,p=this.getData(["wheelAngle","powerForward","powerReverse","turnMax","turnRate","grip","drag","angularGrip","angularDrag"]),l=p[0],h=p[1],f=p[2],d=p[3],y=p[4],g=p[5],b=p[6],v=p[7],_=p[8],O=o?-i:i,w=n?h:o?-f:0,m=new Phaser.Math.Vector2((s.x-u.x)*b+Math.cos(this.rotation)*(O*g+w),(s.y-u.y)*b+Math.sin(this.rotation)*(O*g+w));this.sprite.setVelocity(m.x,m.y);var P=l,j=c*_;if(t||r){var x=(t?-1:1)*y;j+=.1*Math.sign(Math.floor(O/.1))*(P=Math.min(Math.max(P+x,-d),d))*v}else 0!==P&&(P=Math.sign(P)*Math.min(Math.abs(P)+y,0));this.sprite.setAngularVelocity(j);var M=this.wheels,A=M[0],S=M[1];if(A.setRotation(P),S.setRotation(P),this.setData("wheelAngle",P),Math.abs(c)>.03&&Math.abs(O)>.5){var k=new Phaser.Math.Vector2(2,0),D=new Phaser.Math.Vector2(5,0),C=new Phaser.Math.Vector2(6,0);k.setAngle(this.rotation),C.setAngle(this.rotation),D.setAngle(this.rotation+Math.PI/2),this.scene.road.strokeLineShape(new Phaser.Geom.Line(this.x-k.x-D.x-C.x,this.y-k.y-D.y-C.y,this.x+k.x-D.x-C.x,this.y+k.y-D.y-C.y)),this.scene.road.strokeLineShape(new Phaser.Geom.Line(this.x-k.x+D.x-C.x,this.y-k.y+D.y-C.y,this.x+k.x+D.x-C.x,this.y+k.y+D.y-C.y))}},t}(r(398).default);t.default=i},762:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,r,n){return e.call(this,t,r,n,1)||this}return o(t,e),t}(r(398).default);t.default=a},745:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CarPlayer=t.CarStatic=t.CarContainer=void 0;var n=r(398);Object.defineProperty(t,"CarContainer",{enumerable:!0,get:function(){return n.default}});var o=r(762);Object.defineProperty(t,"CarStatic",{enumerable:!0,get:function(){return o.default}});var a=r(41);Object.defineProperty(t,"CarPlayer",{enumerable:!0,get:function(){return a.default}})},206:(e,t,r)=>{r(260);var n=r(363),o={type:Phaser.AUTO,width:256,height:224,zoom:3,input:{keyboard:!0,gamepad:!0},render:{pixelArt:!0,antialias:!1,antialiasGL:!1},physics:{default:"matter",matter:{debug:!1,gravity:{y:0}}},scene:[n.LoaderScene,n.GameScene]};window.addEventListener("load",(function(){new Phaser.Game(o)}))},360:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.scene=e,this.keys=this.scene.input.keyboard.addKeys("W,A,S,D,up,left,down,right")}return Object.defineProperty(e.prototype,"accelerator",{get:function(){return this.keys.up.isDown||this.keys.W.isDown||this.padA},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"breaks",{get:function(){return this.keys.down.isDown||this.keys.S.isDown||this.padB},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.keys.left.isDown||this.keys.A.isDown||-1===this.padAxisH},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.keys.right.isDown||this.keys.D.isDown||1===this.padAxisH},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padA",{get:function(){return this.padButtons.some((function(e){return e.index%2==0&&1===e.value}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padB",{get:function(){return this.padButtons.some((function(e){return e.index%2==1&&1===e.value}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padAxisH",{get:function(){return this.pad?this.pad.axes[0].getValue():0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padAxisV",{get:function(){if(this.pad){var e=this.pad.axes;return e[0],e[1].getValue()}return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padButtons",{get:function(){var e;return(null===(e=this.pad)||void 0===e?void 0:e.buttons)||[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pad",{get:function(){var e=this.scene.input.gamepad;if(e.gamepads.length)return e.gamepads[0]},enumerable:!1,configurable:!0}),e}();t.default=r},751:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(360),i=r(745),s=function(e){function t(){return e.call(this,{key:"game",active:!1,visible:!1})||this}return o(t,e),t.prototype.init=function(){this.inputs=new a.default(this)},t.prototype.create=function(){var e=this.add.image(0,0,"bg").setOrigin(0,0),t=e.width,r=e.height,n=new i.CarPlayer(this,t/2,r/2);this.cameras.main.setBounds(0,0,t,r),this.cameras.main.startFollow(n,!0),this.matter.world.setBounds(32,32,t-64,r-64),this.road=new Phaser.GameObjects.Graphics(this),this.road.lineStyle(2,3355443),this.road.setDepth(1),this.add.existing(this.road);for(var o=this.add.group({classType:i.CarStatic}),a=0;a<15;a++)Math.random()<1/4&&o.create(60,80+16*a).setAngle(0);for(a=0;a<15;a++)Math.random()<1/4&&o.create(452,80+16*a).setAngle(180);for(a=0;a<23;a++)Math.random()<1/4&&o.create(80+16*a,324).setAngle(-90);for(a=0;a<23;a++)Math.random()<1/4&&o.create(80+16*a,60).setAngle(90);for(a=0;a<17;a++)Math.random()<1/4&&o.create(128+16*a,132).setAngle(-90);for(a=0;a<17;a++)Math.random()<1/4&&o.create(128+16*a,156).setAngle(90);for(a=0;a<17;a++)Math.random()<1/4&&o.create(128+16*a,228).setAngle(-90);for(a=0;a<17;a++)Math.random()<1/4&&o.create(128+16*a,252).setAngle(90)},t}(Phaser.Scene);t.default=s},859:function(e,t){var r,n=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.preload=function(){this.load.image("bg","./assets/bg.png"),this.load.spritesheet("cars","./assets/cars.png",{frameWidth:16,frameHeight:16})},t.prototype.create=function(){this.scene.start("game")},t}(Phaser.Scene);t.default=o},363:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GameScene=t.LoaderScene=void 0;var n=r(859);Object.defineProperty(t,"LoaderScene",{enumerable:!0,get:function(){return n.default}});var o=r(751);Object.defineProperty(t,"GameScene",{enumerable:!0,get:function(){return o.default}})}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var a=r[e]={exports:{}};return t[e].call(a.exports,a,a.exports,n),a.exports}n.m=t,e=[],n.O=(t,r,o,a)=>{if(!r){var i=1/0;for(p=0;p<e.length;p++){for(var[r,o,a]=e[p],s=!0,u=0;u<r.length;u++)(!1&a||i>=a)&&Object.keys(n.O).every((e=>n.O[e](r[u])))?r.splice(u--,1):(s=!1,a<i&&(i=a));if(s){e.splice(p--,1);var c=o();void 0!==c&&(t=c)}}return t}a=a||0;for(var p=e.length;p>0&&e[p-1][2]>a;p--)e[p]=e[p-1];e[p]=[r,o,a]},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var o,a,[i,s,u]=r,c=0;if(i.some((t=>0!==e[t]))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(u)var p=u(n)}for(t&&t(r);c<i.length;c++)a=i[c],n.o(e,a)&&e[a]&&e[a][0](),e[i[c]]=0;return n.O(p)},r=self.webpackChunkphaser_cars=self.webpackChunkphaser_cars||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var o=n.O(void 0,[426],(()=>n(206)));o=n.O(o)})();