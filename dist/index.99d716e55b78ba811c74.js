!function(u){function t(t){for(var e,n,r=t[0],o=t[1],i=t[2],a=0,s=[];a<r.length;a++)n=r[a],Object.prototype.hasOwnProperty.call(h,n)&&h[n]&&s.push(h[n][0]),h[n]=0;for(e in o)Object.prototype.hasOwnProperty.call(o,e)&&(u[e]=o[e]);for(f&&f(t);s.length;)s.shift()();return l.push.apply(l,i||[]),c()}function c(){for(var t,e=0;e<l.length;e++){for(var n=l[e],r=!0,o=1;o<n.length;o++){var i=n[o];0!==h[i]&&(r=!1)}r&&(l.splice(e--,1),t=a(a.s=n[0]))}return t}var n={},h={0:0},l=[];function a(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return u[t].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=u,a.c=n,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var e=window.webpackJsonp=window.webpackJsonp||[],r=e.push.bind(e);e.push=t,e=e.slice();for(var o=0;o<e.length;o++)t(e[o]);var f=r;l.push([1448,1]),c()}({1448:function(t,e,n){"use strict";n.r(e);var r=n(30),d=n.n(r);function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.keys=t.input.keyboard.addKeys("W,A,S,D,up,left,down,right")}return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(e,[{key:"up",get:function(){return this.keys.up.isDown||this.keys.W.isDown}},{key:"down",get:function(){return this.keys.down.isDown||this.keys.S.isDown}},{key:"left",get:function(){return this.keys.left.isDown||this.keys.A.isDown}},{key:"right",get:function(){return this.keys.right.isDown||this.keys.D.isDown}}]),e}();function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?b(t):e}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=function(){function r(t,e,n){return p(this,r),y(this,g(r).call(this,t,e,n,4,1,3355443))}return u(r,d.a.GameObjects.Rectangle),r}(),l=function(){function f(t,e,n){var r,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;p(this,f);for(var i=new d.a.GameObjects.Sprite(t,0,0,"cars",o),a=[],s=0;s<2;s++)for(var u=0;u<2;u++){var c=8*u-4,h=12*s-6,l=new d.a.GameObjects.Rectangle(t,c,h,2,4,0);a.push(l)}return(r=y(this,g(f).call(this,t,e,n,a.concat([i])))).wheels=a,r.chasis=i,r.setSize(8,16),r.scene.add.existing(b(r)),r.scene.matter.add.gameObject(b(r)),r.setDepth(2),r}return u(f,d.a.GameObjects.Container),f}(),f=function(){function o(t,e,n){var r;return p(this,o),(r=y(this,g(o).call(this,t,e,n,0))).setData("angularGrip",.05),r.setData("grip",.05),r.setData("power",.075),r.setData("powerReverse",.025),r.setData("turnMax",40*d.a.Math.DEG_TO_RAD),r.setData("turnRate",20*d.a.Math.DEG_TO_RAD),r.setData("wheelAngle",0),r.skidMarks=r.scene.add.group({classType:h}),r.inputs=new i(r.scene),r}return u(o,l),function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(o,[{key:"preUpdate",value:function(){var t=1-this.getData("angularGrip"),e=this.getData("grip"),n=1-e,r=this.getData("powerReverse"),o=this.getData("power"),i=this.getData("turnMax"),a=this.getData("turnRate"),s=this.body.position.x-this.body.positionPrev.x,u=this.body.position.y-this.body.positionPrev.y,c=this.getData("wheelAngle"),h=this.body.angularVelocity*t,l=this.body.speed,f=0;this.inputs.left?(c=Math.max(c-a,-i),.1<l&&(h+=c/(10+190*t))):this.inputs.right?(c=Math.min(c+a,i),.1<l&&(h+=c/(10+190*t))):0<c?c=Math.max(c-a,0):c<0&&(c=Math.min(c+a,0)),this.inputs.up?f=o:this.inputs.down&&(f=-r,l=-l);var p=new d.a.Math.Vector2(s*n+Math.sin(this.rotation)*(l*e+f),u*n-Math.cos(this.rotation)*(l*e+f));if(this.setVelocity(p.x,p.y),this.setAngularVelocity(h),this.setData("wheelAngle",c),this.wheels[0].setRotation(c),this.wheels[1].setRotation(c),.025<Math.abs(this.body.angularVelocity)&&2<Math.abs(this.body.speed)){var y=new d.a.Math.Vector2(this.x+-6*Math.sin(this.body.angle),this.y- -6*Math.cos(this.body.angle)),b=Math.atan2(this.body.positionPrev.y-this.body.position.y,this.body.positionPrev.x-this.body.position.x);this.skidMarks.create(y.x-4*Math.cos(this.body.angle),y.y+4*Math.sin(this.body.angle)).setRotation(b),this.skidMarks.create(y.x- -4*Math.cos(this.body.angle),y.y+-4*Math.sin(this.body.angle)).setRotation(b)}}}]),o}(),w=function(){function r(t,e,n){return p(this,r),y(this,g(r).call(this,t,e,n))}return u(r,l),r}();function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function O(t,e){return!e||"object"!==v(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function M(t){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function D(t,e){return(D=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var j=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),O(this,M(t).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D(t,e)}(t,d.a.Scene),function(t,e,n){e&&m(t.prototype,e),n&&m(t,n)}(t,[{key:"preload",value:function(){this.load.image("bg","./assets/bg.png"),this.load.spritesheet("cars","./assets/cars.png",{frameWidth:16,frameHeight:16})}},{key:"create",value:function(){var t=this.add.image(0,0,"bg").setOrigin(0,0);this.matter.world.setBounds(0,0,t.width,t.height),this.player=new f(this,t.width/2,t.height/2).setAngle(90),this.cars=this.add.group({classType:w});for(var e=0;e<15;e++)Math.random()<.25&&this.cars.create(60,80+16*e).setAngle(90);for(var n=0;n<15;n++)Math.random()<.25&&this.cars.create(452,80+16*n).setAngle(-90);for(var r=0;r<23;r++)Math.random()<.25&&this.cars.create(80+16*r,324).setAngle(0);for(var o=0;o<23;o++)Math.random()<.25&&this.cars.create(80+16*o,60).setAngle(180);for(var i=0;i<17;i++)Math.random()<.25&&this.cars.create(128+16*i,132).setAngle(0);for(var a=0;a<17;a++)Math.random()<.25&&this.cars.create(128+16*a,156).setAngle(180);for(var s=0;s<17;s++)Math.random()<.25&&this.cars.create(128+16*s,228).setAngle(0);for(var u=0;u<17;u++)Math.random()<.25&&this.cars.create(128+16*u,252).setAngle(180);var c=this.cameras.main;c.setBounds(0,0,t.width,t.height),c.startFollow(this.player)}}]),t}(),k={type:d.a.AUTO,width:256,height:224,zoom:3,pixelArt:!0,physics:{default:"matter",matter:{debug:!1,gravity:{y:0}}},scene:j};new d.a.Game(k)}});