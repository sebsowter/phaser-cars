!function(t){function e(e){for(var n,i,s=e[0],u=e[1],c=e[2],f=0,l=[];f<s.length;f++)i=s[f],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&l.push(o[i][0]),o[i]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);for(p&&p(e);l.length;)l.shift()();return a.push.apply(a,c||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],n=!0,s=1;s<r.length;s++){var u=r[s];0!==o[u]&&(n=!1)}n&&(a.splice(e--,1),t=i(i.s=r[0]))}return t}var n={},o={0:0},a=[];function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=n,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var s=window.webpackJsonp=window.webpackJsonp||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var p=u;a.push([2,1]),r()}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(7);Object.defineProperty(e,"CarContainer",{enumerable:!0,get:function(){return n.default}});var o=r(8);Object.defineProperty(e,"CarStatic",{enumerable:!0,get:function(){return o.default}});var a=r(9);Object.defineProperty(e,"CarPlayer",{enumerable:!0,get:function(){return a.default}});var i=r(10);Object.defineProperty(e,"SkidMark",{enumerable:!0,get:function(){return i.default}});var s=r(11);Object.defineProperty(e,"SkidMarkGroup",{enumerable:!0,get:function(){return s.default}})},,function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(1);var n=r(3),o={type:Phaser.AUTO,width:256,height:224,zoom:3,input:{keyboard:!0,gamepad:!0},render:{pixelArt:!0,antialias:!1,antialiasGL:!1},physics:{default:"matter",matter:{debug:!1,gravity:{y:0}}},scene:[n.LoaderScene,n.GameScene]};window.addEventListener("load",(function(){new Phaser.Game(o)}))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(4);Object.defineProperty(e,"LoaderScene",{enumerable:!0,get:function(){return n.default}});var o=r(5);Object.defineProperty(e,"GameScene",{enumerable:!0,get:function(){return o.default}})},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.preload=function(){this.load.image("bg","./assets/bg.png"),this.load.spritesheet("cars","./assets/cars.png",{frameWidth:16,frameHeight:16})},e.prototype.create=function(){this.scene.start("game")},e}(Phaser.Scene);e.default=a},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var a=r(6),i=r(0),s=function(t){function e(){return t.call(this,{key:"game",active:!1,visible:!1})||this}return o(e,t),e.prototype.init=function(){this.inputs=new a.default(this),this.skidMarks=new i.SkidMarkGroup(this).setDepth(1)},e.prototype.create=function(){for(var t=this.add.image(0,0,"bg").setOrigin(0,0),e=t.width,r=t.height,n=new i.CarPlayer(this,e/2,r/2),o=this.add.group({classType:i.CarStatic}),a=0;a<15;a++)Math.random()<.25&&o.create(60,80+16*a).setAngle(0);for(a=0;a<15;a++)Math.random()<.25&&o.create(452,80+16*a).setAngle(180);for(a=0;a<23;a++)Math.random()<.25&&o.create(80+16*a,324).setAngle(-90);for(a=0;a<23;a++)Math.random()<.25&&o.create(80+16*a,60).setAngle(90);for(a=0;a<17;a++)Math.random()<.25&&o.create(128+16*a,132).setAngle(-90);for(a=0;a<17;a++)Math.random()<.25&&o.create(128+16*a,156).setAngle(90);for(a=0;a<17;a++)Math.random()<.25&&o.create(128+16*a,228).setAngle(-90);for(a=0;a<17;a++)Math.random()<.25&&o.create(128+16*a,252).setAngle(90);this.cameras.main.setBounds(0,0,e,r),this.cameras.main.startFollow(n,!0),this.matter.world.setBounds(32,32,e-64,r-64)},e}(Phaser.Scene);e.default=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.scene=t,this.keys=this.scene.input.keyboard.addKeys("W,A,S,D,up,left,down,right")}return Object.defineProperty(t.prototype,"up",{get:function(){return this.keys.up.isDown||this.keys.W.isDown||this.padA},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"down",{get:function(){return this.keys.down.isDown||this.keys.S.isDown||this.padB},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this.keys.left.isDown||this.keys.A.isDown||this.getPadH(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.keys.right.isDown||this.keys.D.isDown||this.getPadH(!1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padA",{get:function(){return this.pad&&this.pad.buttons.some((function(t){return t.index%2==0&&1===t.value}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padB",{get:function(){return this.pad&&this.pad.buttons.some((function(t){return t.index%2==1&&1===t.value}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pad",{get:function(){var t=this.scene.input.gamepad;return t&&t.gamepads&&t.gamepads.length?t.gamepads[0]:null},enumerable:!1,configurable:!0}),t.prototype.getPadH=function(t){return this.pad&&this.pad.axes[0].getValue()===(t?-1:1)},t}();e.default=n},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e,r,n,o){var a=t.call(this,e,r,n)||this;a.chassis=new Phaser.GameObjects.Sprite(e,0,0,"cars",o),a.wheels=[];for(var i=0;i<2;i++)for(var s=0;s<2;s++){var u=5-10*i,c=10*s-5;a.wheels.push(new Phaser.GameObjects.Rectangle(e,u,c,4,2,0))}return a.add(a.wheels),a.add(a.chassis),a.setSize(16,8),a.setDepth(2),a.scene.add.existing(a),a.sprite=a.scene.matter.add.gameObject(a),a}return o(e,t),e}(Phaser.GameObjects.Container);e.default=a},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e,r,n){return t.call(this,e,r,n,1)||this}return o(e,t),e}(r(0).CarContainer);e.default=a},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,r,n){var o=t.call(this,e,r,n,0)||this,i={angularGrip:.05,grip:.02,powerForward:.075,powerReverse:.025,turnMax:40*Phaser.Math.DEG_TO_RAD,turnRate:20*Phaser.Math.DEG_TO_RAD};return o.setData(a(a({},i),{drag:1-i.grip,angularDrag:1-i.angularGrip,wheelAngle:0})),o}return o(e,t),e.prototype.preUpdate=function(){var t=this.scene.inputs,e=t.left,r=t.right,n=t.up,o=t.down,a=this.getData(["wheelAngle","powerForward","powerReverse","turnMax","turnRate","grip","drag","angularGrip","angularDrag"]),i=a[0],s=a[1],u=a[2],c=a[3],p=a[4],f=a[5],l=a[6],h=a[7],d=a[8],y=i,b=this.body.angularVelocity*d,_=this.body.speed,g=0;if(n?g=s:o&&(g=-u,_=-_),e||r){var v=(e?-1:1)*p;b+=Math.sign(Math.floor(_/.1))*(y=Math.min(Math.max(y+v,-c),c))*.1*h}else 0!==y&&(y=Math.sign(y)*Math.min(Math.abs(y)+p,0));var O=new Phaser.Math.Vector2(this.body.position.x-this.body.positionPrev.x,this.body.position.y-this.body.positionPrev.y),P=new Phaser.Math.Vector2(O.x*l+Math.cos(this.rotation)*(_*f+g),O.y*l+Math.sin(this.rotation)*(_*f+g));this.sprite.setVelocity(P.x,P.y),this.sprite.setAngularVelocity(b);for(var w=0;w<2;w++)this.wheels[w].setRotation(y);this.setData("wheelAngle",y),Math.abs(b)>.025&&Math.abs(_)>1&&this.scene.skidMarks.draw(this.x,this.y,this.rotation)},e}(r(0).CarContainer);e.default=i},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e,r,n){return t.call(this,e,r,n,3,2,3355443)||this}return o(e,t),e}(Phaser.GameObjects.Rectangle);e.default=a},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var a=r(0),i=function(t){function e(e){return t.call(this,e,null,{classType:a.SkidMark})||this}return o(e,t),e.prototype.draw=function(t,e,r){for(var n=-1;n<2;n+=2)this.create(t+Math.sin(r)*(4*n)-6*Math.cos(r),e-Math.cos(r)*(4*n)-6*Math.sin(r)).setRotation(r)},e}(Phaser.GameObjects.Group);e.default=i}]);